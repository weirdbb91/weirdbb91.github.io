---
header:
  teaser            : # μΈλ„¤μΌ μ΄λ―Έμ§€ /assets/images/face_army.jpg
title               : JPA Entity FetchType # μ λ©
excerpt             : JPA DB μ¦‰μ‹λ΅λ”©κ³Ό μ§€μ—°λ΅λ”© # μΈλ„¤μΌ ν•μ¤„ μ”μ•½
categories          : Basic
tags                : Basic Java JPA Entity FetchType
---

μ¶μ² : μΈν”„λ° κΉ€μν•λ‹μ κ°•μ "μλ°” ORM ν‘μ¤€ JPA ν”„λ΅κ·Έλλ° - κΈ°λ³ΈνΈ" μ¤‘ μΌλ¶€

---

π« μ•„λ λ‚΄μ©μ€ μ£Όκ΄€μ μΈ μƒκ°μ΄λ―€λ΅ μ‚¬μ‹¤κ³Ό λ‹¤λ¥Ό μ μμµλ‹λ‹¤.

---

## κ°μ”

JPA Entity λ§¤ν•‘μ—μ„ μ¦‰μ‹λ΅λ”©κ³Ό μ§€μ—°λ΅λ”©μ— λ€ν• λ‚΄μ©

## μ •μ

- μ¦‰μ‹λ΅λ”©
  - **FetchType.EAGER**
  - μ—”ν‹°ν‹° μ΅°νμ‹, μ—”ν‹°ν‹°μ™€ μ—°κ΄€κ΄€κ³„μ— μλ” λ‹¤λ¥Έ μ—”ν‹°ν‹°λ“¤μ„ ν•¨κ» μ΅°ν  
- μ§€μ—°λ΅λ”©
  - **FetchType.LAZY**
  - μ—”ν‹°ν‹° μ΅°νμ‹, ν•΄λ‹Ή μ—”ν‹°ν‹°λ§ μ΅°νν•κ³   
    μ—”ν‹°ν‹°μ™€ μ—°κ΄€κ΄€κ³„μ— μλ” λ‹¤λ¥Έ μ—”ν‹°ν‹°λ“¤μ„ ν”„λ΅μ‹ κ°μ²΄λ΅ μƒμ„±ν•΄  
    ν•΄λ‹Ή ν”„λ΅μ‹ κ°μ²΄κ°€ μ‚¬μ©λλ” μ‹μ μ— μ¶”κ°€λ΅ μ΅°ν

## μ‚¬μ©μμ‹

```java
@Entity
public class Team {

    // μ¦‰μ‹λ΅λ”©(EAGER)μ κ²½μ°, μ΅°νν•λ” Teamμ μ N λ§νΌ  
    // κ° embersλ¥Ό μ¶”κ°€λ΅ μ΅°νν•λ” SQL μΏΌλ¦¬κ°€ λ°μƒ
    // Teamλ“¤μ κ° members μ΅°ν Nλ² + Team μ΅°ν 1λ² = N + 1
    @OneToMany(fetch = FetchType.EAGER)
    private List<Member> members;
    ...
}
```

## μ£Όμμ‚¬ν•­

- μ¦‰μ‹λ΅λ”©μ€ μ‹¤λ¬΄μ—μ„ μ‚¬μ©ν•κΈ°μ— λ¶€μ ν•©
- μ¦‰μ‹λ΅λ”©μ„ μ‚¬μ©ν•λ©΄ μμƒν•μ§€ λ»ν• SQLμ΄ λ°μƒ
- μ¦‰μ‹λ΅λ”©μ€ JPQLμ—μ„ N + 1 λ¬Έμ λ¥Ό μΌμΌν‚¨λ‹¤
- @...ToOne μ• λ…Έν…μ΄μ…μ€ μ¦‰μ‹λ΅λ”©μ΄ κΈ°λ³Έκ°’
  - @...ToOne(fetch = FetchType.LAZY)λ΅ λ³€κ²½ν•΄μ•Όν•¨
- @...ToMany μ• λ…Έν…μ΄μ…μ€ μ§€μ—°λ΅λ”©μ΄ κΈ°λ³Έκ°’
