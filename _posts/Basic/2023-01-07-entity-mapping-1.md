---
header:
  teaser            : # ì¸ë„¤ì¼ ì´ë¯¸ì§€ /assets/images/face_army.jpg
title               : JPA auto generate database schema function # ì œëª©
excerpt             : JPA DB ìŠ¤í‚¤ë§ˆ ìë™ ìƒì„± ê¸°ëŠ¥ # ì¸ë„¤ì¼ í•œì¤„ ìš”ì•½
categories          : Basic
tags                : Basic Java JPA Database Schema
---

ì¶œì²˜ : ì¸í”„ëŸ° ê¹€ì˜í•œë‹˜ì˜ ê°•ì˜ "ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë° - ê¸°ë³¸í¸" ì¤‘ ì¼ë¶€

---

ğŸš« ì•„ë˜ ë‚´ìš©ì€ ì£¼ê´€ì ì¸ ìƒê°ì´ë¯€ë¡œ ì‚¬ì‹¤ê³¼ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ê°œìš”

JPAì—ì„œ ì œê³µí•˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ìë™ ìƒì„± ê¸°ëŠ¥ì— ëŒ€í•œ ë‚´ìš©

---

## ë‚´ìš©

### ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ìë™ ìƒì„± ê¸°ëŠ¥

- ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ ì‹œì ì— DDLì„ ìë™ ìƒì„±  
  - ê°œë°œ ê³¼ì •ì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰ì‹œ,  
       DB ìŠ¤í‚¤ë§ˆë“¤ì„ ìë™ìœ¼ë¡œ ìƒì„±í•´ì¤Œ  
- ì§€ì •í•œ DB ë°©ì–¸(Dialect)ì„ í™œìš©, DBì— ì í•©í•œ DDL ìƒì„±  
  - ê°œë°œ ë‹¨ê³„ì—ì„œë§Œ ì‚¬ìš©í•  ê²ƒ.  
    ìš´ì˜ì„œë²„ì—ì„œ ì‚¬ìš©í•˜ë ¤ë©´ ê²€í†  í•„ìˆ˜  

#### **ì‚¬ìš©ë°©ë²•**

í•˜ì´ë²„ë„¤ì´íŠ¸ ì„¤ì • ì¶”ê°€  

```java
// gradle application.properties
hibernate.hbm2ddl.auto={ì˜µì…˜ ê°’}
```

ì˜µì…˜ ì¢…ë¥˜

- create
  - ê¸°ì¡´ í…Œì´ë¸” DROP í›„ CREATE
- create-drop
  - createê³¼ ë™ì¼í•˜ë‚˜, ì¢…ë£Œì‹œì ì— DROP ì¶”ê°€
- update
  - ë³€ê²½ë¶€ë¶„ë§Œ ë°˜ì˜(ALTER) - ì‚­ì œ ì‚¬í•­ì€ ë°˜ì˜ë˜ì§€ ì•ŠìŒ
- validate
  - ì—”í‹°í‹°ì™€ í…Œì´ë¸”ì˜ ëª…ì„¸ê°€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸(ë¶ˆì¼ì¹˜ì‹œ ì˜ˆì™¸ ë°œìƒ)
- none
  - ì‚¬ìš©ì•ˆí•¨(ê´€ë¡€ìƒ none, ì•ˆì ê±°ë‚˜ ì˜µì…˜ì´ ì•„ë‹Œ ê°’ì„ ë„£ì–´ë„ ë™ì¼)

> create, create-dropëŠ” DROPì„ ì‹¤í–‰í•œë‹¤  
> -> ì•ˆì“°ëŠ”ê±¸ ê¶Œì¥  
>
> update ë˜í•œ ì§ì ‘ì ì¸ ë³€ê²½ì„ ê°€í•œë‹¤  
> -> ë§¤ìš° ì‹ ì¤‘í•˜ê²Œ ì‚¬ìš©í•˜ê±°ë‚˜ ì•ˆì“°ëŠ”ê±¸ ê¶Œì¥

---

### DDL ìƒì„± ê¸°ëŠ¥

ì—”í‹°í‹°ì— ì œì•½ ì¡°ê±´ì„ ëª…ì‹œí•´ë‘ë©´ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆê°€  
ìë™ ìƒì„±ë  ë•Œ ì œì•½ ì¡°ê±´ì— ë§ê²Œ ìƒì„±í•´ì¤€ë‹¤

ì œì•½ ì¡°ê±´ ì˜ˆì‹œ

```java
@Column(nullable = false, length = 10)
private String userName;

@Column(unique = true)
private String nickName;
```

```java
@Table(uniqueConstaints = {
    @UniqueConstraints(
        name = "NAME_AGE_UNIQUE",
        columnNames = {"NAME", "AGE"}
    )
})
public class Member {
```

DDL ìƒì„±ê¸°ëŠ¥ì€ DDLì„ ìë™ ìƒì„±í•  ë•Œë§Œ ì‚¬ìš©ë˜ê³ ,  
JPAì˜ ì‹¤í–‰ ë¡œì§ì—ëŠ” ì˜í–¥ì„ ì£¼ì§€ ì•ŠìŒ  
